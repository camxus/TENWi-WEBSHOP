{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { isEmpty, isArray } from 'lodash';\nimport Link from \"next/link\";\nimport { useState, useEffect, useRef } from 'react';\n\nconst HeroCarousel = ({\n  heroCarousel\n}) => {\n  var _heroCarousel$activeI, _heroCarousel$activeI2, _heroCarousel$activeI3;\n\n  if (isEmpty(heroCarousel) || !isArray(heroCarousel)) {\n    return null;\n  }\n\n  const autoPlay = true;\n  const slideDuration = 2; // in seconds\n\n  const activeIndexRef = useRef({\n    activeIndex: 0\n  });\n  const slideRef = useRef(0);\n  const {\n    0: slide,\n    1: setSlide\n  } = useState(0);\n  const {\n    0: restartSlide,\n    1: setRestartSlide\n  } = useState(0);\n  const {\n    activeIndex\n  } = activeIndexRef.current;\n  /**\n   * Change to next slide.\n   */\n\n  const nextSlide = () => {\n    if (1 === heroCarousel.length) {\n      return null;\n    }\n    /**\n     * If if autoplay is set to true\n     * and all slides are finished playing,\n     * set the activeIndex to one and restart the slide from start.\n     */\n\n\n    if (activeIndexRef.current.activeIndex === heroCarousel.length - 1) {\n      activeIndexRef.current.activeIndex = 0;\n      setRestartSlide(restartSlide + 1);\n    } else {\n      // If its not the last slide increment active index by one.\n      activeIndexRef.current.activeIndex = activeIndexRef.current.activeIndex + 1;\n    }\n\n    slideRef.current = slideRef.current + 1;\n    setSlide(slideRef.current);\n  };\n\n  useEffect(() => {\n    if (autoPlay) {\n      const interval = setInterval(() => nextSlide(), slideDuration * 1000);\n      return () => clearInterval(interval);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"banner flex flex-col sm:flex-row justify-between overflow-hidden\",\n    children: [/*#__PURE__*/_jsxs(\"div\", {\n      className: \"banner-img sm:w-8/12\",\n      children: [heroCarousel.map((item, index) => {\n        var _item$image, _item$image2;\n\n        const opacity = activeIndex === index || 1 === heroCarousel.length ? 'opacity-100' : 'opacity-0';\n        return /*#__PURE__*/_jsx(\"div\", {\n          className: `${opacity} banner-img-container absolute top-0 left-0`,\n          children: /*#__PURE__*/_jsx(\"img\", {\n            src: item === null || item === void 0 ? void 0 : (_item$image = item.image) === null || _item$image === void 0 ? void 0 : _item$image.sourceUrl,\n            srcSet: item === null || item === void 0 ? void 0 : (_item$image2 = item.image) === null || _item$image2 === void 0 ? void 0 : _item$image2.srcSet,\n            loading: \"lazy\"\n          })\n        }, item === null || item === void 0 ? void 0 : item.id);\n      }), /*#__PURE__*/_jsxs(\"div\", {\n        className: \"slider-button\",\n        children: [/*#__PURE__*/_jsx(\"button\", {\n          className: \"focus:outline-none\",\n          onClick: nextSlide,\n          children: /*#__PURE__*/_jsx(\"svg\", {\n            width: \"25px\",\n            className: \"inline-block mr-3\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsx(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M7 16l-4-4m0 0l4-4m-4 4h18\"\n            })\n          })\n        }), /*#__PURE__*/_jsx(\"button\", {\n          className: \"focus:outline-none\",\n          onClick: nextSlide,\n          children: /*#__PURE__*/_jsx(\"svg\", {\n            width: \"25px\",\n            className: \"inline-block\",\n            xmlns: \"http://www.w3.org/2000/svg\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsx(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: \"2\",\n              d: \"M17 8l4 4m0 0l-4 4m4-4H3\"\n            })\n          })\n        })]\n      })]\n    }), /*#__PURE__*/_jsxs(\"div\", {\n      className: \"banner-content pt-10 sm:pt-0 px-10 sm:w-4/12\",\n      children: [/*#__PURE__*/_jsx(\"h2\", {\n        className: \"banner-content__title text-base md:text-4xl uppercase\",\n        children: (_heroCarousel$activeI = heroCarousel[activeIndex]) === null || _heroCarousel$activeI === void 0 ? void 0 : _heroCarousel$activeI.name\n      }), /*#__PURE__*/_jsx(\"p\", {\n        className: \"banner-content__description text-base md:text-2xl text-gray-700\",\n        children: (_heroCarousel$activeI2 = heroCarousel[activeIndex]) === null || _heroCarousel$activeI2 === void 0 ? void 0 : _heroCarousel$activeI2.description\n      }), /*#__PURE__*/_jsx(Link, {\n        href: `/category/${(_heroCarousel$activeI3 = heroCarousel[activeIndex]) === null || _heroCarousel$activeI3 === void 0 ? void 0 : _heroCarousel$activeI3.slug}/`,\n        children: /*#__PURE__*/_jsx(\"a\", {\n          className: \"banner-content__link text-gray-700\",\n          children: \"+ Explore\"\n        })\n      })]\n    })]\n  });\n};\n\nexport default HeroCarousel;","map":null,"metadata":{},"sourceType":"module"}