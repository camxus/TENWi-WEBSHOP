{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Layout from \"../../src/components/Layout\";\nimport client from \"../../src/components/ApolloClient\";\nimport Product from \"../../src/components/Product\";\nimport { PRODUCT_BY_CATEGORY_SLUG, PRODUCT_CATEGORIES_SLUGS } from \"../../src/queries/product-by-category\";\nimport { isEmpty } from \"lodash\";\nimport { useRouter } from \"next/router\";\nimport categories from \"../../src/styles/categories.module.css\";\nexport default function CategorySingle(props) {\n  const router = useRouter(); // If the page is not yet generated, this will be displayed\n  // initially until getStaticProps() finishes running\n\n  if (router.isFallback) {\n    return /*#__PURE__*/_jsx(\"div\", {\n      children: \"Loading...\"\n    });\n  }\n\n  const {\n    categoryName,\n    products\n  } = props;\n  return /*#__PURE__*/_jsx(Layout, {\n    children: /*#__PURE__*/_jsxs(\"div\", {\n      children: [categoryName ? /*#__PURE__*/_jsx(\"h3\", {\n        className: categories[`header`],\n        children: categoryName\n      }) : '', /*#__PURE__*/_jsx(\"div\", {\n        children: undefined !== products && products !== null && products !== void 0 && products.length ? products.map(product => /*#__PURE__*/_jsx(Product, {\n          product: product\n        }, product === null || product === void 0 ? void 0 : product.id)) : ''\n      })]\n    })\n  });\n}\n;\nexport async function getStaticProps(context) {\n  var _data$productCategory, _data$productCategory2, _data$productCategory3, _data$productCategory4, _data$productCategory5;\n\n  const {\n    params: {\n      slug\n    }\n  } = context;\n  const {\n    data\n  } = await client.query({\n    query: PRODUCT_BY_CATEGORY_SLUG,\n    variables: {\n      slug\n    }\n  });\n  return {\n    props: {\n      categoryName: (_data$productCategory = data === null || data === void 0 ? void 0 : (_data$productCategory2 = data.productCategory) === null || _data$productCategory2 === void 0 ? void 0 : _data$productCategory2.name) !== null && _data$productCategory !== void 0 ? _data$productCategory : '',\n      products: (_data$productCategory3 = data === null || data === void 0 ? void 0 : (_data$productCategory4 = data.productCategory) === null || _data$productCategory4 === void 0 ? void 0 : (_data$productCategory5 = _data$productCategory4.products) === null || _data$productCategory5 === void 0 ? void 0 : _data$productCategory5.nodes) !== null && _data$productCategory3 !== void 0 ? _data$productCategory3 : []\n    },\n    revalidate: 1\n  };\n}\nexport async function getStaticPaths() {\n  var _data$productCategori, _data$productCategori2;\n\n  const {\n    data\n  } = await client.query({\n    query: PRODUCT_CATEGORIES_SLUGS\n  });\n  const pathsData = [];\n  (data === null || data === void 0 ? void 0 : (_data$productCategori = data.productCategories) === null || _data$productCategori === void 0 ? void 0 : _data$productCategori.nodes) && (data === null || data === void 0 ? void 0 : (_data$productCategori2 = data.productCategories) === null || _data$productCategori2 === void 0 ? void 0 : _data$productCategori2.nodes.map(productCategory => {\n    if (!isEmpty(productCategory === null || productCategory === void 0 ? void 0 : productCategory.slug)) {\n      pathsData.push({\n        params: {\n          slug: productCategory === null || productCategory === void 0 ? void 0 : productCategory.slug\n        }\n      });\n    }\n  }));\n  return {\n    paths: pathsData,\n    fallback: true\n  };\n}","map":null,"metadata":{},"sourceType":"module"}